// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Train (uv .venv)",
      "type": "debugpy",          // or "python" – both map to the Python Debugger
      "request": "launch",

      // *** use the interpreter INSIDE the uv virtual‑env ***
      "python": "${workspaceFolder}/.venv/bin/python",

      // script you actually want to debug
      "program": "${workspaceFolder}/scripts/train.py",
      "args": [
        "pi0_droid_cot",
        "--exp-name=my_experiment",
        "--overwrite"
      ],

      // your XLA memory cap
      "env": {
        "XLA_PYTHON_CLIENT_MEM_FRACTION": "0.9",
        "CUDA_VISIBLE_DEVICES": "0,1,2,3",
      },
      "cwd": "${workspaceFolder}",
      "console": "integratedTerminal",
      "justMyCode": false
    }
  ]
}
